<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Concierto TØP</title>
    <link rel="stylesheet" href="CSS/estilo.css">
    <link rel="stylesheet" href="https://static.puntoticket.com/especiales/landing-common/css/bootstrap.css">
    <link rel="stylesheet" href="https://static.puntoticket.com/especiales/landing-common/css/main-2023.css">
    <link rel="stylesheet" href="https://static.puntoticket.com/especiales/landing-common/css/aos.css">
    <link rel="icon" type="image/png" href="IMG/21-Pilots-Logo-2019.png">
</head>
<style>
    body{
        background-image: url(IMG/34thEAx.jpg);
        background-attachment: fixed;
    }
</style>
<body>
    <div class="principalContainer">
        <div class="container">
            <header>
                <h1>Twenty One Pilots</h1>
                <nav>
                    <ul>
                        <li><a href="home.html">Inicio</a></li>
                        <li><a href="songs.html">Canciones</a></li>
                        <li><a href="ubicacion.html">Ubicación</a></li>
                        <li id="tabla-entradas" style="display: none;"><a href="listarEntradas.html">Tabla Entradas</a></li>
                        <li class="logout-container"><a href="/logout" class="button">Cerrar Sesión</a></li>
                    </ul>
                </nav>
            </header>                    
            <section class="estadio">
                <h3>Mapa del Escenario</h3>
                <div class="mEstadio">
                    <img src="img/mapaEstadio.png">
                </div>
            </section>
            <section class="section">
                <h2>Precios</h2>
                <div class="item">
                    <img src="img/orange.png" class="ensalada">
                    <span>Galería</span>
                    <span>$26.000</span>
                </div>
                <div class="item">
                    <img src="img/green.png">
                    <span>Cancha</span>
                    <span>$39.000</span>
                </div>
                <div class="item">
                    <img src="img/ligreen.png">
                    <span>Andes</span>
                    <span>$51.000</span>
                </div>
                <div class="item">
                    <img src="img/blue.png">
                    <span>Pacífico lateral</span>
                    <span>$53.000</span>
                </div>
                <div class="item">
                    <img src="img/turq.png">
                    <span>Pacífico bajo</span>
                    <span>$60.000</span>
                </div>
                <div class="item">
                    <img src="IMG/pink.png">
                    <span>Pacífico alto norte</span>
                    <span>$10.000</span>
                </div>
                <div class="item">
                    <img src="IMG/purple.png">
                    <span>Pacífico alto sur</span>
                    <span>$10.000</span>
                </div>
                <div class="item">
                    <img src="IMG/liblue.png">
                    <span>Pacífico medio</span>
                    <span>$12.000</span>
                </div>
            </section>
            <div class="botonContainer">
                <a href="#" class="botonEntrada" id="compraEntradaBtn">¡Compra tu entrada!</a>
            </div>
        </div>
    </div>
    
    <div class="footercontainer">
        <footer>
            <div class="footer-content">
                <div class="footer-section">
                    <h3>Contacto</h3>
                    <p>Dirección: 123 Calle Principal, Ciudad</p>
                    <p>Teléfono: +569 456 789</p>
                    <p>Email: info@gmail.com</p>
                </div>
            </div>
            <div class="footer-bottom">
                <p>&copy; 2024 Rodrigo el pillo. Todos los derechos reservados.</p>
            </div>
        </footer>
    </div>

    <script>
        fetch('/getUserSession')
            .then(response => response.json())
            .then(data => {
                if (!data.correo) {
                    window.location.href = 'index.html';
                }
                else if (data.rol == 1) {
                    document.getElementById('tabla-entradas').style.display = 'inline';
                }
            })
            .catch(error => {
                console.error('Error al verificar la sesión:', error);
                window.location.href = 'index.html';
            });

        document.getElementById('compraEntradaBtn').addEventListener('click', function(event) {
            event.preventDefault();
            fetch('/getUserSession')
                .then(response => response.json())
                .then(data => {
                    if (data.correo) {
                        window.location.href = 'compraEntrada.html';
                    } else {
                        window.location.href = 'index.html';
                    }
                })
                .catch(error => {
                    console.error('Error al verificar la sesión:', error);
                    window.location.href = 'index.html';
                });
        });
    </script>
</body>
</html>
